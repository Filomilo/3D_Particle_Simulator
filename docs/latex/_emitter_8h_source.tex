\doxysection{Emitter.\+h}
\hypertarget{_emitter_8h_source}{}\label{_emitter_8h_source}\index{D:/studia/semestr5/Podstawy grafiki komputerowej/Projekt/3D\_Particle\_Simulator/3DOpenGlEngine/Emitter.h@{D:/studia/semestr5/Podstawy grafiki komputerowej/Projekt/3D\_Particle\_Simulator/3DOpenGlEngine/Emitter.h}}
\mbox{\hyperlink{_emitter_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ }
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00012\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_particle_system_8h}{ParticleSystem.h}}"{}}}
\DoxyCodeLine{00013\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_transformable_8h}{Transformable.h}}"{}}}
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_updatable_8h}{Updatable.h}}"{}}}
\DoxyCodeLine{00015\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{_math_8h}{math.h}}>}}
\DoxyCodeLine{00016\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{__3_d_engine_8h}{\_3DEngine.h}}"{}}}
\DoxyCodeLine{00022\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_emitter}{Emitter}}\ :}
\DoxyCodeLine{00023\ \ \ \ \ \textcolor{keyword}{public}\ \mbox{\hyperlink{class_transformable}{Transformable}},}
\DoxyCodeLine{00024\ \ \ \ \ \textcolor{keyword}{public}\ \mbox{\hyperlink{class_updatable}{Updatable}},}
\DoxyCodeLine{00025\ \ \ \ \ \textcolor{keyword}{public}\ \mbox{\hyperlink{class_parametrized}{Parametrized}}}
\DoxyCodeLine{00026\ \{}
\DoxyCodeLine{00032\ \ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{class_vector3f}{Vector3f}}\ getNewPointPosition()\ =\ 0;}
\DoxyCodeLine{00038\ \ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{class_vector3f}{Vector3f}}\ getNewColor()\ =\ 0;}
\DoxyCodeLine{00044\ \ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{class_vector3f}{Vector3f}}\ getNewVelocity()\ =\ 0;}
\DoxyCodeLine{00050\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{float}\ getNewSize()\ =\ 0;}
\DoxyCodeLine{00051\ }
\DoxyCodeLine{00052\ }
\DoxyCodeLine{00053\ }
\DoxyCodeLine{00054\ \ \ \ \ }
\DoxyCodeLine{00055\ }
\DoxyCodeLine{00056\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00061\ \ \ \ \ std::shared\_ptr<Float>\ particles\_per\_second=std::make\_shared<Float>(10);}
\DoxyCodeLine{00066\ \ \ \ \ std::shared\_ptr<Float>\ life\_of\_particle\ =\ std::make\_shared<Float>(1);}
\DoxyCodeLine{00071\ \ \ \ \ std::shared\_ptr<Float>\ bounciness\_of\_particle\ =\ std::make\_shared<Float>(0);}
\DoxyCodeLine{00076\ \ \ \ \ std::shared\_ptr<Float>\ mass\_of\_particle\ =\ std::make\_shared<Float>(1);}
\DoxyCodeLine{00081\ \ \ \ \ std::shared\_ptr<Float>\ size\_of\_particle\ =\ std::make\_shared<Float>(100);}
\DoxyCodeLine{00086\ \ \ \ \ std::shared\_ptr<ParticleSystem>\ particle\_system;}
\DoxyCodeLine{00091\ \ \ \ \ \textcolor{keywordtype}{float}\ timeBuffer=0;}
\DoxyCodeLine{00098\ \ \ \ \ \textcolor{keywordtype}{int}\ calculatePartceToCreate(\textcolor{keywordtype}{float}\ time\_elpased)}
\DoxyCodeLine{00099\ \ \ \ \ \{}
\DoxyCodeLine{00100\ \ \ \ \ \ \ \ \ timeBuffer\ +=\ time\_elpased;}
\DoxyCodeLine{00101\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ seconddivcision\ =\ 1.0\ /\ particles\_per\_second-\/>x;}
\DoxyCodeLine{00102\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ amtTocreate\ =\ floor(timeBuffer\ /\ seconddivcision);}
\DoxyCodeLine{00103\ \ \ \ \ \ \ \ \ timeBuffer\ -\/=\ seconddivcision\ *\ amtTocreate;}
\DoxyCodeLine{00104\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ amtTocreate;}
\DoxyCodeLine{00105\ \ \ \ \ \}}
\DoxyCodeLine{00106\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00107\ \ \ \ }
\DoxyCodeLine{00113\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_emitter_a3e7a617d8b26fdcdbaad6ab21d0e34d5}{update}}(\textcolor{keywordtype}{float}\ timeElpased)\textcolor{keyword}{\ override}}
\DoxyCodeLine{00114\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{00115\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class__3_d_engine_a38ae048fea21d38baa8c0170e2a0252b}{\_3DEngine::getInstance}}()-\/>getIsSimulationActive())\ \{}
\DoxyCodeLine{00116\ }
\DoxyCodeLine{00117\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ particleSize\ =\ 10;}
\DoxyCodeLine{00118\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{/*}}
\DoxyCodeLine{00119\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ particle\_system-\/>addPoint(}}
\DoxyCodeLine{00120\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Vector3f(}}
\DoxyCodeLine{00121\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (float)rand()\ /\ RAND\_MAX\ *\ particleSize\ -\/\ particleSize\ /\ 2,}}
\DoxyCodeLine{00122\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (float)rand()\ /\ RAND\_MAX\ *\ particleSize\ -\/\ particleSize\ /\ 2,}}
\DoxyCodeLine{00123\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (float)rand()\ /\ RAND\_MAX\ *\ particleSize\ -\/\ particleSize\ /\ 2}}
\DoxyCodeLine{00124\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ )}}
\DoxyCodeLine{00125\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ,}}
\DoxyCodeLine{00126\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Vector3f((float)rand()\ /\ RAND\_MAX,}}
\DoxyCodeLine{00127\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (float)rand()\ /\ RAND\_MAX,}}
\DoxyCodeLine{00128\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (float)rand()\ /\ RAND\_MAX}}
\DoxyCodeLine{00129\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ),}}
\DoxyCodeLine{00130\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Vector3f((float)rand()\ /\ RAND\_MAX,}}
\DoxyCodeLine{00131\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (float)rand()\ /\ RAND\_MAX,}}
\DoxyCodeLine{00132\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (float)rand()\ /\ RAND\_MAX}}
\DoxyCodeLine{00133\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ),}}
\DoxyCodeLine{00134\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (float)rand()\ /\ RAND\_MAX\ *\ 50}}
\DoxyCodeLine{00135\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ );}}
\DoxyCodeLine{00136\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ */}}
\DoxyCodeLine{00137\ }
\DoxyCodeLine{00138\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ amtToCreate\ =\ calculatePartceToCreate(timeElpased);}
\DoxyCodeLine{00139\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ amtToCreate;\ i++)\ \{}
\DoxyCodeLine{00140\ }
\DoxyCodeLine{00141\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ particle\_system-\/>addPoint(}
\DoxyCodeLine{00142\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ getNewPointPosition(),}
\DoxyCodeLine{00143\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ getNewColor(),}
\DoxyCodeLine{00144\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ getNewVelocity(),}
\DoxyCodeLine{00145\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ size\_of\_particle-\/>x,}
\DoxyCodeLine{00146\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ mass\_of\_particle-\/>x,}
\DoxyCodeLine{00147\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ bounciness\_of\_particle-\/>x,}
\DoxyCodeLine{00148\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ life\_of\_particle-\/>x}
\DoxyCodeLine{00149\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ );}
\DoxyCodeLine{00150\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{/*}}
\DoxyCodeLine{00151\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ particle\_system-\/>addPoint(}}
\DoxyCodeLine{00152\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Vector3f(}}
\DoxyCodeLine{00153\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (float)rand()\ /\ RAND\_MAX\ *\ particleSize\ -\/\ particleSize\ /\ 2,}}
\DoxyCodeLine{00154\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (float)rand()\ /\ RAND\_MAX\ *\ particleSize\ -\/\ particleSize\ /\ 2,}}
\DoxyCodeLine{00155\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (float)rand()\ /\ RAND\_MAX\ *\ particleSize\ -\/\ particleSize\ /\ 2}}
\DoxyCodeLine{00156\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ )}}
\DoxyCodeLine{00157\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ,}}
\DoxyCodeLine{00158\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Vector3f((float)rand()\ /\ RAND\_MAX,}}
\DoxyCodeLine{00159\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (float)rand()\ /\ RAND\_MAX,}}
\DoxyCodeLine{00160\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (float)rand()\ /\ RAND\_MAX}}
\DoxyCodeLine{00161\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ),}}
\DoxyCodeLine{00162\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Vector3f((float)rand()\ /\ RAND\_MAX,}}
\DoxyCodeLine{00163\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (float)rand()\ /\ RAND\_MAX,}}
\DoxyCodeLine{00164\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (float)rand()\ /\ RAND\_MAX}}
\DoxyCodeLine{00165\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ),}}
\DoxyCodeLine{00166\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (float)rand()\ /\ RAND\_MAX\ *\ 50}}
\DoxyCodeLine{00167\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ );}}
\DoxyCodeLine{00168\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ */}}
\DoxyCodeLine{00169\ }
\DoxyCodeLine{00170\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00171\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00172\ \ \ \ \ \}}
\DoxyCodeLine{00178\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{class_emitter_a2dc19f8807623642a719ef442fd64b30}{get\_particles\_per\_second}}()\textcolor{keyword}{\ const}}
\DoxyCodeLine{00179\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{00180\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ particles\_per\_second-\/>x;}
\DoxyCodeLine{00181\ \ \ \ \ \}}
\DoxyCodeLine{00187\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_emitter_a6c70b92e577bb5942afcd36a8a17a50f}{set\_particles\_per\_second}}(\textcolor{keywordtype}{unsigned}\ particles\_per\_second)}
\DoxyCodeLine{00188\ \ \ \ \ \{}
\DoxyCodeLine{00189\ \ \ \ \ \ \ \ \ this-\/>particles\_per\_second-\/>x\ =\ particles\_per\_second;}
\DoxyCodeLine{00190\ \ \ \ \ \}}
\DoxyCodeLine{00196\ \ \ \ \ std::shared\_ptr<ParticleSystem>\ \mbox{\hyperlink{class_emitter_abd2fa3036024f082fae9297fc7ef02ad}{get\_particle\_system}}()\textcolor{keyword}{\ const}}
\DoxyCodeLine{00197\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{00198\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ particle\_system;}
\DoxyCodeLine{00199\ \ \ \ \ \}}
\DoxyCodeLine{00205\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_emitter_a62138190d20a7f389c1e165585903988}{set\_particle\_system}}(std::shared\_ptr<ParticleSystem>\ particle\_system)}
\DoxyCodeLine{00206\ \ \ \ \ \{}
\DoxyCodeLine{00207\ \ \ \ \ \ \ \ \ this-\/>particle\_system\ =\ particle\_system;}
\DoxyCodeLine{00208\ \ \ \ \ \}}
\DoxyCodeLine{00214\ \ \ \ \ std::shared\_ptr<UiParameterGroup>\ \mbox{\hyperlink{class_emitter_a3a3a8b663abcf3fe47634b5150cfa8ea}{getParameterGroup}}()\textcolor{keyword}{\ override}}
\DoxyCodeLine{00215\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{00216\ \ \ \ \ \ \ \ \ std::shared\_ptr<UiParameterGroup>\ ui\_parameter\_group\ =\ std::make\_shared<UiParameterGroup>(\textcolor{stringliteral}{"{}Emitter"{}});}
\DoxyCodeLine{00217\ \ \ \ \ \ \ \ \ ui\_parameter\_group-\/>addParameter(std::make\_shared\ <UiParameter>(\textcolor{stringliteral}{"{}life\_of\_particle"{}},\ this-\/>life\_of\_particle,\ 0.01));}
\DoxyCodeLine{00218\ \ \ \ \ \ \ \ \ ui\_parameter\_group-\/>addParameter(std::make\_shared\ <UiParameter>(\textcolor{stringliteral}{"{}paritcles\_per\_Second"{}},\ this-\/>particles\_per\_second,\ 1));}
\DoxyCodeLine{00219\ \ \ \ \ \ \ \ \ ui\_parameter\_group-\/>addParameter(std::make\_shared\ <UiParameter>(\textcolor{stringliteral}{"{}bounciness\_of\_particle"{}},\ this-\/>bounciness\_of\_particle,\ 0.01));}
\DoxyCodeLine{00220\ \ \ \ \ \ \ \ \ ui\_parameter\_group-\/>addParameter(std::make\_shared\ <UiParameter>(\textcolor{stringliteral}{"{}mass\_of\_particle"{}},\ this-\/>mass\_of\_particle,\ 0.1));}
\DoxyCodeLine{00221\ \ \ \ \ \ \ \ \ ui\_parameter\_group-\/>addParameter(std::make\_shared\ <UiParameter>(\textcolor{stringliteral}{"{}size\_of\_particle"{}},\ this-\/>size\_of\_particle,\ 100));}
\DoxyCodeLine{00222\ }
\DoxyCodeLine{00223\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ ui\_parameter\_group;}
\DoxyCodeLine{00224\ \ \ \ \ \}}
\DoxyCodeLine{00225\ }
\DoxyCodeLine{00226\ }
\DoxyCodeLine{00227\ \};}
\DoxyCodeLine{00228\ }

\end{DoxyCode}
